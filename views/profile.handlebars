<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Link to the jQuery Library -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

    <!-- CSS Reset-->
    <link rel="stylesheet" href="css/reset.css">
    {{!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css"> --}}
    <link rel="stylesheet" href="/styles/styles.css" media="screen" title="no title" charset="utf-8">

    <!-- Materialize -->
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <!--Google Fonts-->
    {{!-- <link href="https://fonts.googleapis.com/css?family=Liu+Jian+Mao+Cao&display=swap" rel="stylesheet"> --}}

    <!--Style Sheet-->
    <link rel="stylesheet" href="/public/styles/styles.css">

    <title>Trip Planner</title>
</head>

<body>
<nav>
  <div class="nav-wrapper black">
       <a href="#" class="center brand-logo trip-planner">Profile Update</a>

    <a href="/" class="brand-logo" style="y:-20"><i class="material-icons">wb_sunny</i>Day-Dreamer</a>
    <ul id="nav-mobile" class="right hide-on-med-and-down">
      <li><a class="waves-effect waves-light btn modal-trigger teal accent-1 black-text" href="/"
          style="width:auto;">Home</a></li>
      <li><a class="waves-effect waves-light btn modal-trigger teal accent-1 black-text" href="/surveyplan"
          style=" width:auto;">Next</a></li>


    </ul>
  </div>
</nav>

 <div class="container">
        <div class="row">
            <div class="col s12 m12">
                <div class="card horizontal">
                    <div class="card-image">
                        {{!-- <img src="http://localhost:3000/img/boarding-pass-euro-ticket-69866.jpg"> --}}
                    </div>
                    <div class="card-stacked">
                        <div class="card-content">
                        <div id="overflowTest">  
                               <a href="#">Future travel plans </a>   
                         <table class="table">
                            <thead>
                            <tr>
                                <th>ID</th>
                                <th>Trip Begin</th>
                                {{!-- <th>Trip End</th> --}}
                                <th>Origin</th>
                                <th>Destnation</th>
                                 <th>Created By</th>
                            </tr>
                            </thead>
                              {{#each username}}
                            <tbody>
                            <tr>
                                <td>{{this.id}}</td>
                                <td>{{this.begintrip}}</td>
                                 {{!-- <td>{{this.begintrip}}</td> --}}
                                <td>{{this.origin}}</td>
                                <td>{{this.destination}}</td>
                                 <td>{{this.first_name}}</td>
                                <td> <button data-id="{{this.id}}" class="delquote">Delete</button></td>
                              {{/each}}
                            </tr>
                            </tbody>
                        </table>
                          </div>
                          </div>
                            </div>
                        </div>
                        
                            <a class="waves-effect waves-light btn modal-trigger teal accent-1 black-text" href="#modal1" style=" width:auto;">Add plans</a>

                                   <br/>
                                   <br/>
                   <a class="waves-effect waves-light btn modal-trigger teal accent-1 black-text" href="#modal2"  style=" width:auto;">Upcoming plan</a>


                            <hr>
                     
        
                    </div>
                </div>
            </div>
        </div>

    </div>
     
    <!--Section for Current trip-->
    <div id="modal1" class="modal">
         <div class="modal-content">

 
            {{!-- <form class="col s6 offset-s3" id="updateplan" class="button-size" action="/controllers/survey-controller" method="POST"> --}}
         {{!-- <form class="col s6 offset-s3" action="/controllers/survey-controller" method="POST"> --}}
        <form class="col s12" action="/controllers/profile_s-controller" method="POST" style="padding:20px;"> 
                
                <div class="row">                                                                 
                     <h4>upcoming plan details</h4>
                     <hr>
                     <br/>
                    <div class="input-field col s6">
                          <input readonly  type="text" name="username" placeholder="Guest "  value=  {{name}} >
                      
                        <label id="first_name"  for="name">Name</label>
                    </div>
                </div>
                        <div class="row">
                    <div class="input-field col s12">
                          <input  type="text" name="first_name" >
                        <label id="flight"  for="first_name">Name</label>
                    </div>
                </div>
                
                <div class="row">
                    <div class="input-field col s12">
                          <input  type="text" name="flight" >
                        <label id="flight"  for="flight">Flights Information?</label>
                    </div>
                </div>
                <div class="row">
                      <div class="input-field col4 s12">
                            <input  type="text" name="hotel_inf" >
                        <label for="hotel_inf">Hotel Information </label>
                    </div>
                </div>
               
                <div class="row">
                    <div class="input-field col s12">
                                  <input  type="text" name="hotel_r" >
                        <label for="hotel_r">Hotel/Resort Preference </label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col4 s12">
                         <input type="text" name="list" >
                        <label for="list">List any other notes or comments here. For example, future travel interests, etc.</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12">
                         <input  type="text" name="activity" >
                        <label for="activity">What activities do you enjoy when traveling?</label>
                    </div>
                </div>
                 <div class="row">
                    <div class="input-field col s12">
                         <input  type="text" name="comment1" >
                        <label for="comment1">Comment:</label>
                              </div>
                    </div>
                    
                </div>
     
             
        <div class="modal-footer">
    <div class="col s6">
      <a href="#!" class="modal-close waves-effect waves-green btn red darken-4 left">Cancel</a>
    </div>
    <div class="col s6">
      <button href="#!" class="waves-effect waves-green btn green accent-4 signupbtn" type="submit">submit</button>

    </div>
  </div>
</div>
   </form>         
        </div>
       
      </div>
    
  
</div>

                  </div>
      </div>
  </div>
</div>
</div>
  </div>
</div>
    </div>
<div id="modal2" class="modal" style="background-color: bisque;">
         <div class="modal-content">    
   <!--Section for Current trip-->
    <div class="container">
        <div class="row">
            <h4>upcoming plan details</h4>
            <div class="col s12 m12">
                        
                        <div class="card-content">
                        <div id="overflowTest">  
                         <table class="table">
                            <thead>
                            <tr>

                                 {{!-- <th>ID</th> --}}
                                <th>Name</th>
                                 <th>Flight</th>
                                <th>Hotel</th>
                                <th>Activity</th>
                                 <th>Remarks</th>
                            </tr>
                            </thead>
                              {{#each user}}
                            <tbody>
                            <tr>
                                {{!-- <td>{{this.id}}</td> --}}
                                <td>{{this.username}}</td>
                                 <td>{{this.flight}}</td>
                                <td>{{this.hotel}}</td>
                                <td>{{this.activity}}</td>
                                 <td>{{this.comment1}}</td>
                          <td> <button data-id="{{this.id}}" class="delquote">Delete</button></td>
                           {{!-- <td> <input type="button" id ="delquote" value="Delete" onclick = "deleteRow(this)"  </td> --}}
                            
                              {{/each}}
                            </tr>
                            </tbody>
                        </table>
                          </div>
                          </div>
                                  </div>
      </div>
  </div>
</div>

                             </div>
                         </div>
                        </div>
                      
                    </div>
                </div>
            </div>
        </div>
    </div>
   
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
</body>
</html>
<style>
#overflowTest {
  background: rgb(55, 57, 55);
  color: white;
  padding: 5px;
  width: 100%;
  height:300px;
  overflow: scroll;
  border: 1px solid #ccc;
}
</style>
<script>
      
    $(".delquote").on("click", function(event) {
      var id = $(this).data("id");
  
      // Send the DELETE request.
      $.ajax("/api/quotes/" + id, {
        type: "DELETE"
      }).then(
        function() {
          console.log("deleted id ", id);
          // Reload the page to get the updated list
          location.reload();
        }
      );
    });
    
</script>